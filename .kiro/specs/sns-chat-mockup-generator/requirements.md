# Requirements Document

## Project Overview

SNS会話履歴作成Webアプリケーション - モバイルファースト設計で、LINE、Instagram、Twitter等の主要SNSプラットフォームの会話UIを模倣し、画像・データとしてエクスポート可能なツールを提供します。

## Project Description (User Input)

# SNS会話履歴作成サイト 要件定義書

## 1. プロジェクト概要

### 1.1 目的
ユーザーがSNSの会話履歴のような見た目の画像やデータを簡単に作成できるWebアプリケーションを提供する。教育、プレゼンテーション、エンターテインメント等の用途で使用されることを想定。初期リリースではスマートフォンユーザーを主要ターゲットとし、モバイルファーストで設計する。

### 1.2 背景
- SNSのスクリーンショットを用いた説明資料の需要増加
- プライバシーに配慮した架空の会話画面作成のニーズ
- 教材やプレゼンテーション用のサンプル画像の必要性
- スマートフォンでのSNS利用が主流であることを考慮

### 1.3 スコープ
- Webブラウザ上で動作する単体アプリケーション
- ユーザー登録不要で即座に利用可能
- 主要SNSプラットフォームの会話UIを模倣
- **モバイルファースト設計(スマートフォンでの利用を最優先)**
- **PCブラウザでもスマートフォンサイズの画面で表示**

## 2. 機能要件

### 2.1 基本機能

#### 2.1.1 会話作成機能
- **メッセージ追加**: テキストメッセージの追加(送信/受信の選択可能)
- **メッセージ編集**: 追加済みメッセージの編集機能
- **メッセージ削除**: 個別メッセージの削除機能
- **メッセージ並び替え**: ドラッグ&ドロップによる順序変更

#### 2.1.2 カスタマイズ機能
- **プラットフォーム選択**:
  - LINE風
  - Instagram DM風
  - Twitter DM風
  - WhatsApp風
  - Facebook Messenger風
  - 汎用チャットスタイル
- **プロフィール設定**:
  - 相手の名前
  - 相手のアイコン(画像アップロード/デフォルトアイコン)
  - 自分の名前
  - オンラインステータス表示
- **外観カスタマイズ**:
  - ヘッダーカラー変更
  - 背景色/画像の変更
  - フォントサイズ調整
  - メッセージバブルの色変更

#### 2.1.3 追加コンテンツ機能
- **画像メッセージ**: 画像の送受信表示
- **スタンプ/絵文字**: 各プラットフォーム特有のスタンプ
- **既読表示**: 既読/未読ステータスの表示
- **タイムスタンプ**: 日時の表示形式カスタマイズ
- **システムメッセージ**: 「〇〇が参加しました」等

### 2.2 エクスポート機能

#### 2.2.1 画像エクスポート
- **形式**: PNG/JPEG選択可能
- **解像度**: 複数の解像度オプション(SNS投稿用、印刷用等)
- **範囲指定**: 会話の一部分のみエクスポート

#### 2.2.2 データエクスポート
- **JSON形式**: 会話データの構造化出力
- **CSV形式**: 表形式でのメッセージ一覧出力
- **HTML形式**: スタイル付きHTMLとしてエクスポート

### 2.3 インポート機能
- **JSONインポート**: 保存したデータの読み込み
- **テンプレート**: 事前定義された会話テンプレート
- **CSVインポート**: 一括メッセージ投入

### 2.4 プレビュー機能
- **リアルタイムプレビュー**: 編集内容の即時反映
- **デバイスプレビュー**: スマートフォン/タブレット/PC表示
- **ダークモード対応**: ライト/ダークテーマ切り替え

## 3. 非機能要件

### 3.1 パフォーマンス要件
- ページ読み込み時間: 3秒以内
- メッセージ追加レスポンス: 100ms以内
- 最大メッセージ数: 1000件
- 同時編集可能数: 1ユーザー

### 3.2 ユーザビリティ要件
- **直感的UI**: 説明書なしで操作可能
- **モバイルファースト設計**:
  - スマートフォンでの操作を最優先に設計
  - タッチ操作に最適化されたUI要素(最小タップ領域44×44px)
  - 片手操作を考慮したボタン配置
- **画面サイズ制限**:
  - 最大幅: 428px(iPhone 14 Pro Max基準)
  - PCブラウザでも中央にスマートフォンサイズで表示
  - 周囲に余白またはデコレーション要素を配置
- **レスポンシブデザイン**: 各種スマートフォンサイズに対応
- **アクセシビリティ**: WCAG 2.1 Level AA準拠
- **多言語対応**: 日本語/英語(初期リリース)

### 3.3 セキュリティ要件
- **データ保存**: ローカルストレージのみ使用(サーバー保存なし)
- **画像アップロード**: クライアントサイド処理のみ
- **XSS対策**: 入力値のサニタイゼーション
- **HTTPS通信**: SSL証明書による暗号化

### 3.4 互換性要件
- **ブラウザ対応**:
  - Chrome (最新2バージョン)
  - Firefox (最新2バージョン)
  - Safari (最新2バージョン)
  - Edge (最新2バージョン)
- **デバイス対応**:
  - iOS 13以上
  - Android 8以上
  - Windows 10以上
  - macOS 10.14以上

## 4. 技術仕様

### 4.1 フロントエンド
- **フレームワーク**: React.js または Vue.js(モバイル最適化考慮)
- **スタイリング**: Tailwind CSS(モバイルファーストのユーティリティクラス)
- **状態管理**: Redux または Vuex
- **ビルドツール**: Vite(高速ビルド)
- **モバイルUI**:
  - タッチジェスチャーライブラリ(Hammer.js等)
  - モバイル最適化されたコンポーネントライブラリ

### 4.2 ライブラリ
- **画像処理**: html2canvas
- **アイコン**: Font Awesome / Material Icons
- **日時処理**: Day.js
- **ドラッグ&ドロップ**: react-beautiful-dnd(タッチ対応)
- **スワイプ操作**: react-swipeable
- **ボトムシート**: react-spring-bottom-sheet

### 4.3 開発環境
- **バージョン管理**: Git/GitHub
- **CI/CD**: GitHub Actions
- **テスト**: Jest + React Testing Library
- **リンター**: ESLint + Prettier

## 5. 画面設計

### 5.1 画面サイズ仕様
- **基本表示サイズ**: 幅390px × 高さ844px(iPhone 14基準)
- **最大表示幅**: 428px(大型スマートフォン対応)
- **最小表示幅**: 320px(小型スマートフォン対応)
- **PCブラウザ表示**:
  - 画面中央に固定幅(390px)で表示
  - 左右の余白にグラデーション背景やぼかし効果
  - オプション: スマートフォンのモックアップフレーム表示

### 5.2 メイン画面構成(モバイル版)
```
┌─────────────────┐ 390px
│  ヘッダー        │ 60px
├─────────────────┤
│                 │
│  プレビュー      │
│  エリア         │ 400-500px
│ (会話画面)      │
│                 │
├─────────────────┤
│                 │
│  操作パネル      │
│ (スライド式)    │ 200-300px
│                 │
└─────────────────┘
```

### 5.3 PC表示時のレイアウト
```
┌────────────────────────────────────────────┐
│                                            │
│  ┌────────────────┐                       │
│  │                │  <- スマホ画面          │
│  │   アプリ画面    │     (390px幅)         │
│  │                │                       │
│  └────────────────┘                       │
│     背景: ぼかし効果 or グラデーション         │
│                                            │
└────────────────────────────────────────────┘
```

### 5.4 主要画面一覧
1. **メイン編集画面**: 会話作成・編集
2. **テンプレート選択画面**: 事前定義テンプレート一覧
3. **エクスポート設定画面**: 出力オプション設定
4. **ヘルプ画面**: 使い方ガイド

### 5.5 UI要素の仕様
- **ボタンサイズ**: 最小44×44px(タップしやすさ考慮)
- **フォントサイズ**:
  - 本文: 16px以上
  - ボタンテキスト: 14px以上
  - 補助テキスト: 12px以上
- **余白**: 要素間8px以上
- **スクロール**: 垂直スクロールのみ(横スクロール禁止)

### 5.6 操作フロー最適化
- **ボトムシート式メニュー**: 下からスライドアップする操作パネル
- **フローティングアクションボタン**: メッセージ追加用の固定ボタン
- **スワイプ操作**: メッセージの削除・編集
- **長押し操作**: コンテキストメニューの表示

## 6. 制約事項

### 6.1 技術的制約
- サーバーサイド処理なし(完全クライアントサイド)
- ファイルサイズ上限: 画像1枚あたり5MB
- ブラウザのローカルストレージ容量制限

### 6.2 法的制約
- 各SNSプラットフォームの商標・デザイン使用に関する配慮
- 生成コンテンツの悪用防止に関する免責事項表示
- 個人情報保護方針の明示

## 7. 今後の拡張予定

### 7.1 フェーズ2(3ヶ月後)
- 音声メッセージ対応
- グループチャット対応
- アニメーション効果追加

### 7.2 フェーズ3(6ヶ月後)
- AI自動会話生成機能
- 複数人での共同編集機能
- プレミアム機能(透かし除去等)

## 8. 成功指標

### 8.1 定量的指標
- 月間アクティブユーザー数: 10,000人
- 平均セッション時間: 15分以上
- リピート率: 30%以上

### 8.2 定性的指標
- ユーザー満足度: 4.0/5.0以上
- 直感的に使えるというフィードバック
- SNSでの共有・推奨

## 9. リスクと対策

### 9.1 技術的リスク
- **リスク**: ブラウザ間の表示差異
- **対策**: 徹底的なクロスブラウザテスト

### 9.2 法的リスク
- **リスク**: 商標権侵害の可能性
- **対策**: 「風」表記の使用、免責事項の明記

### 9.3 運用リスク
- **リスク**: 悪意のある使用
- **対策**: 利用規約の整備、透かし機能の実装

## 10. プロジェクトスケジュール

### 10.1 開発フェーズ(3ヶ月)
- **月1**: 要件定義・設計(完了)
- **月2**: 基本機能開発
- **月3**: 応用機能開発・テスト

### 10.2 リリース計画
- **ベータ版リリース**: 開発開始から2.5ヶ月後
- **正式版リリース**: 開発開始から3ヶ月後
- **初回アップデート**: リリースから1ヶ月後

## 11. 承認

本要件定義書は、プロジェクト関係者の承認を得て正式なものとする。

- プロジェクトマネージャー: ＿＿＿＿＿＿＿＿
- 技術責任者: ＿＿＿＿＿＿＿＿
- 承認日: ＿＿＿＿＿＿＿＿

## Requirements
<!-- 詳細なユーザーストーリーは /kiro:spec-requirements フェーズで生成されます -->

---
**STATUS**: 要件生成の準備完了
**NEXT STEP**: `/kiro:spec-requirements sns-chat-mockup-generator` を実行して詳細要件を生成してください